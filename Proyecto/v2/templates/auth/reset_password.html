{% extends "base.html" %}

{% block title %}Restablecer Contraseña - SmartBite{% endblock %}

{% block navbar %}

{% endblock %}

{% block content %}
<div class="pointer-events-none fixed inset-0 -z-10 overflow-hidden">
        <div class="absolute -top-32 -left-20 h-96 w-96 bg-accent/40 blur-3xl"></div>
        <div class="absolute -bottom-20 right-[-120px] h-[28rem] w-[28rem] bg-fuchsia-600/30 blur-3xl"></div>
    </div>

    <div class="w-full max-w-md">
        <div class="rounded-3xl border border-white/10 bg-white/5 px-8 py-10 shadow-[0_40px_120px_-60px_rgba(167,139,250,0.7)] backdrop-blur">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-semibold text-white mb-2">Restablecer Contraseña</h1>
                <p class="text-sm text-slate-300/80">Ingresa tu nueva contraseña</p>
            </div>

            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    {% for message in messages %}
                    <div class="mb-6 rounded-2xl border border-accent/30 bg-accent/10 px-4 py-3 text-sm text-slate-200">
                        {{ message }}
                    </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}

            <form method="POST" class="space-y-6">
                <div class="space-y-2">
                    <label for="password" class="block text-xs font-semibold uppercase tracking-wide text-slate-300/80">Nueva Contraseña</label>
                    <input 
                        type="password" 
                        id="password" 
                        name="password" 
                        required
                        minlength="8"
                        class="w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white placeholder-slate-400 focus:border-accent focus:outline-none focus:ring-2 focus:ring-accent/50"
                        placeholder="Mínimo 8 caracteres"
                    >
                </div>

                <div class="space-y-2">
                    <label for="confirm_password" class="block text-xs font-semibold uppercase tracking-wide text-slate-300/80">Confirmar Contraseña</label>
                    <input 
                        type="password" 
                        id="confirm_password" 
                        name="confirm_password" 
                        required
                        minlength="8"
                        class="w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white placeholder-slate-400 focus:border-accent focus:outline-none focus:ring-2 focus:ring-accent/50"
                        placeholder="Repite la contraseña"
                    >
                </div>

                <button 
                    type="submit" 
                    class="w-full rounded-full bg-accent px-6 py-3 text-sm font-semibold text-white transition hover:bg-accent/80"
                >
                    Actualizar Contraseña
                </button>
            </form>

            <div class="mt-6 text-center">
                <a href="{{ url_for('login') }}" class="text-sm text-accentSoft hover:text-accent transition">
                    Volver al inicio de sesión
                </a>
            </div>
        </div>
    </div>
{% endblock %}